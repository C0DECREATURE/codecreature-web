"use strict";var tqOn="true";window.addEventListener("load",(e=>{let t=new URL(window.location.toLocaleString()).searchParams;t.has("tqOn")?tqOn=t.get("tqOn"):localStorage.getItem("tqOn")&&(tqOn=localStorage.getItem("tqOn")),tqInitMenu(),tqOn?enableTq():disableTq(),console.log("typing quirk menu setup complete")}));var tqOnCheckbox=document.createElement("input");function tqInitMenu(){pageSettingsContents=document.getElementById("page-settings-contents"),pageSettingsContents&&(tqOnCheckbox.id="tqOnCheckbox",tqOnCheckbox.addEventListener("click",toggleTqs),addPageSettingCheckbox(tqOnCheckbox,"proper english","check above to turn off puns, chatspeak, numbers in place of letters, etc")),tqOnCheckbox.checked=!isTrue(tqOn)}var tqShortcutStart="%%",tqStandardStart="%A%",tqBreakString="\\",tqTextEmojiStart="%E%",tqEndString="%";let tqCss=document.createElement("link");function tqAlts(){let e,t,n;document.querySelectorAll(".tq-format").forEach(tqFormatElement),tqOnCheckbox.checked=!isTrue(tqOn);for(let a=0;a<document.getElementsByClassName("tq").length;a++){if(e=document.getElementsByClassName("tq")[a],t=e.dataset.txt?e.dataset.txt:e.innerHTML,n=" ",e.dataset.a)n=e.dataset.a;else{let e=t.toLowerCase().trim();n="b"==e?"be":"i"==e?"I":"u"==e?"you":"ur"==e?"your":"2"==e?"to":"4"==e?"for":"r"==e?"are":"im"==e?"I'm":"ive"==e?"I've":"ill"==e?"I'll":"urs"==e?"yours":"rly"==e?"really":"abt"==e?"about":"were"==e?"we're":"bc"==e?"because":"ppl"==e?"people":"in2"==e?"into":"pls"==e?"please":"w"==e?"with":"thru"==e?"through":"2day"==e?"today":"thx"==e?"thanks":t}isTrue(tqOn)?showTQ(e,t,n):hideTQ(e,t,n)}for(let a=0;a<document.getElementsByClassName("tq-e").length;a++)e=document.getElementsByClassName("tq-e")[a],e.classList.add("tq"),t=e.innerHTML,e.dataset.txt&&(t=e.dataset.txt),n=" ",e.dataset.a?n=e.dataset.a:":3"==t||"X3"==t||":33"==t||"X33"==t?n="smiling kitty emoji":":3c"==t||"X3c"==t||":33c"==t||"X33c"==t?n="mischievous kitty emoji":":'3"==t||":''3"==t||":'''3"==t||":'33"==t||":''33"==t||":'''33"==t?n="crying kitty emoji":":)"==t||":))"==t||":)))"==t?n="smiling emoji":":("==t||":(("==t||":((("==t?n="sad emoji":"B3"==t||"B33"==t?n="sunglasses kitty emoji":"B3c"==t||"B33c"==t?n="mischievous sunglasses kitty emoji":"B'3"!=t&&"B''3"!=t&&"B'''3"!=t&&"B'33"!=t&&"B''33"!=t&&"B'''33"!=t||(n="crying sunglasses kitty emoji"),showTQ(e,t,n);for(let a=0;a<document.getElementsByClassName("tq-nep").length;a++)e=document.getElementsByClassName("tq-nep")[a],e.classList.add("tq"),t=e.innerHTML,e.dataset.txt&&(t=e.dataset.txt),n=" ",n=e.dataset.a?e.dataset.a:t.replace(/33/g,"ee"),isTrue(tqOn)?showTQ(e,t,n):hideTQ(e,t,n);console.log("set typing quirk alt text, typing quirks visible = "+tqOn)}function showTQ(e,t,n){var a=document.createElement("span");a.classList.add("sr-only"),a.innerHTML=n,e.dataset.txt=t;var s=document.createElement("span");s.ariaHidden="true",s.innerHTML=t,e.innerHTML="",e.appendChild(a),e.appendChild(s)}function hideTQ(e,t,n){e.dataset.txt=t,e.innerHTML=n}function toggleTqs(){isTrue(tqOn)?disableTq():enableTq()}function enableTq(){tqOn=!0,localStorage.setItem("tqOn",tqOn),document.body.classList.add("tqOn"),tqAlts()}function disableTq(){tqOn=!1,localStorage.setItem("tqOn",tqOn),document.body.classList.remove("tqOn"),tqAlts()}function tqFormatString(e){return e=(e=(e=(e=e.replace(/%%(.*?)%/g,'<u class="tq">$1</u>')).replace(/%A%(.*?)\\(.*?)%/g,'<u class="tq" data-a="$1">$2</u>')).replace(/%E%(.*?)%/g,'<u class="tq-e">$1</u>')).replace(/%N%(.*?)%/g,'<u class="tq-nep">$1</u>')}function tqFormatElement(e){e.innerHTML=e.innerHTML.replace(/%%(.*?)%/g,'<u class="tq">$1</u>'),e.innerHTML=e.innerHTML.replace(/%A%(.*?)\\\\(.*?)%/g,'<u class="tq" data-a="$1">$2</u>'),e.innerHTML=e.innerHTML.replace(/%E%(.*?)%/g,'<u class="tq-e">$1</u>'),e.innerHTML=e.innerHTML.replace(/%N%(.*?)%/g,'<u class="tq-nep">$1</u>')}function tqUnformatString(e){return e=(e=(e=(e=e.replace(/\<u class="tq"\>(.*?)\<\/u\>/g,"%%$1%")).replace(/\<u class="tq" data-a="(.*?)"\>(.*?)\<\/u\>/g,"%A%$1\\\\$2%")).replace(/\<u class="tq-e"\>(.*?)\<\/u\>/g,"%E%$1%")).replace(/\<u class="tq-nep"\>(.*?)\<\/u\>/g,"%N%$1%")}function tqUnformatElement(e){e.innerHTML=e.innerHTML.replace(/\<u class="tq"\>(.*?)\<\/u\>/g,"%%$1%"),e.innerHTML=e.innerHTML.replace(/\<u class="tq" data-a="(.*?)"\>(.*?)\<\/u\>/g,"%A%$1\\\\$2%"),e.innerHTML=e.innerHTML.replace(/\<u class="tq-e"\>(.*?)\<\/u\>/g,"%E%$1%"),e.innerHTML=e.innerHTML.replace(/\<u class="tq-nep"\>(.*?)\<\/u\>/g,"%N%$1%")}tqCss.rel="stylesheet",tqCss.type="text/css",tqCss.href="/codefiles/typing-quirks.css?fileversion=5",document.querySelector("HEAD").appendChild(tqCss);