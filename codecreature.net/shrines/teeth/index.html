<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<title>topolino's teeth</title>
		<!-- favicon -->
		<link rel="icon" type="image/x-icon" href="favicon.gif">
		
		<!-- universal base javascript -->
		<script src="/codefiles/required.js?fileversion=10"></script>
		<!-- universal base css -->
		<link href="/codefiles/required.css?fileversion=10" rel="stylesheet" type="text/css"></link>
		
		<!-- load fonts --
		<script>fonts.load()</script>-->
		
		<!-- svg icons -->
		<script src="/graphix/svg-icons/svg-icons.js?fileversion=10" id="svg-icons-js"></script>
		<!-- page settings -->
		<script src="/codefiles/page-settings.min.js?fileversion=10"></script>
		
		<!--this page's stylesheet-->
		<link href="style.css?fileversion=10" rel="stylesheet" type="text/css" media="all">
		<!--this page's script(s)--
		<script src="script.js?fileversion=10"></script>-->
	</head>
	
	<!-----------BODY------------------->
	<body>
		<a class="skip-to-content" href="#content">skip to content</a>
		
		<nav><a href="/">home</a></nav>
		
		<main id="content">

			<h2>teeth for topolino</h2>
			<p>Coming soon.</p>
			<p class="hidden">Burdened by too many teeth? Finally, the solution is here!<p>

			<form id="contact-form" class="hidden">
				
				<section id="tooth-info">
					<h4>About Your Teeth</h4>
					<label for="tooth-type" class="required">What kind?</label>
					<select id="tooth-type" onchange="emailForm.updateToothType();" required>
						<option value="">(Select one)</option>
						<option value="human">Real Human</option>
						<option value="animal">Real Animal</option>
						<option value="fake">Sculpture (clay, fabric, etc)</option>
						<option value="digital">Digital Image</option>
					</select>
					<br>
					<label for="tooth-quantity">How many?</label>
					<input type="number" id="tooth-quantity" name="quantity" size="2">
					<br>
				</section>
				
				<section id="shipping-info">
				
					<label for="gift-type" class="required">What should I send you?</label>
					<br>
					<select id="gift-type" onchange="emailForm.updateGiftType();">
						<option value="">(Select one)</option>
						<option value="gift">Gift</option>
						<option value="label">Prepaid Shipping Label</option>
						<option value="nothing">Nothing</option>
					</select>
					
					<section id="envelope-info">
						<h4>Envelope Details</h4>
						<p>Pack your teeth in an envelope <b>first</b>, then measure the whole thing.</p>
						<label for="envelope-length" class="required">Dimensions:</label>
						<input type="number" step=".5" id="envelope-length" name="length" size="3">
						x
						<input type="number" step=".5" id="envelope-width" name="width" size="3">
						x
						<input type="number" step=".5" id="envelope-thickness" name="height" size="3">
						<select id="envelope-dimensions-type">
							<option value="in">in</option>
							<option value="cm">cm</option>
						</select>
						<br>
						<label for="envelope-weight" class="required">Weight:</label>
						<input type="number" step=".5" id="envelope-weight" name="weight" size="3">
						<select id="envelope-weight-type">
							<option value="oz">oz</option>
							<option value="g">g</option>
						</select>
					</section>
					
					<section id="address-info">
						<h4>Address</h4>
						<p>
							If you only want a shipping label, nothing but the ZIP code is required.
							<br><i>USA only, sorry!</i>
						</p>
						
						<label for="address-1">Name:</label>
						<input type="text" id="address-name" name="address-name">
						<br>
						
						<label for="address-1">Street Address:</label>
						<input type="text" id="address-1" name="address-1">
						<br>
						
						<label for="address-2">Apt/Suite/Other:</label>
						<input type="text" id="address-2" name="address-2">
						<br>
						
						<label for="address-city">City:</label>
						<input type="text" id="address-city" name="city">
						<br>
						
						<label for="address-state">State:</label>
						<input type="text" id="address-state" name="state">
						<br>
						
						<label for="address-zip" class="required">ZIP:</label>
						<input type="text" id="address-zip" name="ZIP" pattern="[0-9]{5}" title="5 digit ZIP code" required>
						<br>
					</section>
					
				</section>
				
				<section id="your-info">
					<h4>Contact Info</h4>
					<label for="email" class="required">Email:</label>
					<input type="email" id="email" name="email" autocomplete="on" required>
					<br>
					
					<p>Who should I credit for the teeth?</p>
					<label for="name">Display Name:</label>
					<input type="text" id="name" name="name">
					<br>
					<label for="link">Website Link:</label>
					<input type="text" id="link" name="link">
				</section>
				
				<label for="notes">Notes:</label>
				<br>
				<textarea id="notes" name="notes"></textarea>
				<br>

				<button type="submit" onclick="mailto:teeth@codecreature.net?subject=Teeth for Topolino">Send</button>
			</form>

		</main>
		
		<script>
			const emailForm = {
				init: ()=>{
					emailForm.form = document.getElementById('contact-form');
					emailForm.toothType = document.getElementById('tooth-type');
					emailForm.giftType = document.getElementById('gift-type');
					emailForm.envelopeInfo = document.getElementById('envelope-info');
					emailForm.shippingInfo = document.getElementById('shipping-info');
					emailForm.addressInfo = document.getElementById('address-info');
					
					emailForm.updateAll();
				},
				// get label for given id
				getLabelFor: (id)=>{
					let r = null;
					var labels = document.getElementsByTagName('label');
					for (var i = 0; i < labels.length; i++) {
						if (labels[i].htmlFor == id) r = labels[i];
					}
					return r;
				},
				// update the form according to current gift-type selection
				updateGiftType: ()=>{
					let v = emailForm.giftType.options[emailForm.giftType.selectedIndex].value;
					let envelope, address, fullAddress = false;
					// set which sections to show based on selection
					if (v == 'label') { envelope = true; address = true; }
					else if (v == 'gift') { address = true; fullAddress = true; }
					// if envelope info needed
					if (envelope) { emailForm.envelopeInfo.classList.remove('hidden'); }
					else { emailForm.envelopeInfo.classList.add('hidden'); }
					// if address info needed
					if (address) {
						emailForm.addressInfo.classList.remove('hidden');
						let labels = emailForm.addressInfo.getElementsByTagName('label');
						for (let i = 0; i < labels.length; i++) {
							if (fullAddress || labels[i].id == 'address-zip') labels[i].classList.add('required');
							else labels[i].classList.remove('required');
						}
					}
					else { emailForm.addressInfo.classList.add('hidden'); }
				},
				// update the form according to current tooth-type selection
				updateToothType: ()=>{
					let v = emailForm.toothType.options[emailForm.toothType.selectedIndex].value;
					// if sending digital image only
					if (v == 'digital' || v == '') {
						emailForm.giftType.classList.add('hidden');
						emailForm.shippingInfo.classList.add('hidden');
					}
					// if sending physical object
					else {
						emailForm.giftType.classList.remove('hidden');
						emailForm.shippingInfo.classList.remove('hidden');
					}
				},
				updateAll: ()=> {
					emailForm.updateGiftType();
					emailForm.updateToothType();
					
				}
			}
			
			emailForm.init();
		</script>
		
	</body>
	<!--------------END BODY------------->
</html>